// Sempre a primeira linha do arquivo
@use '@angular/material' as mat;
@use 'styles/palette' as *;

// Tema global do Angular Material com paletas válidas do Material
html {
  @include mat.theme((
    color: (
      primary: mat.$azure-palette,
      tertiary: mat.$blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));
}

body {
  color-scheme: light;
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);
  margin: 0;
}

// Global styles adicionais
html, body { height: 100%; }
body { font-family: Roboto, "Helvetica Neue", sans-serif; }

// Shared action button following palette
.action-btn {
  height: 44px;
  font-weight: 600;
  border-radius: 14px;
  background: linear-gradient(135deg, $brown 0%, $brown-hover 90%);
  box-shadow: 0 8px 18px -6px rgba($brown-dark,.45), 0 0 0 1px rgba($rose,.5) inset;
  color: $offwhite !important;
}
.action-btn:hover {
  transform: translateY(-1px);
  background: linear-gradient(135deg, $brown-hover 0%, $brown-dark 90%);
}
.action-btn:active { background: linear-gradient(135deg, $brown-press 0%, $brown-dark 90%); }

// Padroniza botões do Material usando a paleta
.mat-mdc-unelevated-button.mdc-button--raised,
.mat-mdc-raised-button,
.mat-mdc-fab, .mat-mdc-mini-fab,
.mat-mdc-outlined-button,
.mat-mdc-button {
  border-radius: 14px;
}
.mat-mdc-raised-button.mat-primary,
.mat-mdc-unelevated-button.mat-primary {
  background: linear-gradient(135deg, $brown 0%, $brown-hover 92%);
  color: $offwhite;
  box-shadow: 0 4px 10px -4px rgba($brown-dark,.45), 0 0 0 1px rgba($rose,.4) inset;
  transition: background .18s ease, transform .15s ease, box-shadow .2s ease;
}
.mat-mdc-raised-button.mat-primary:hover,
.mat-mdc-unelevated-button.mat-primary:hover {
  background: linear-gradient(135deg, $brown-hover 0%, $brown-dark 90%);
}
.mat-mdc-raised-button.mat-primary:active,
.mat-mdc-unelevated-button.mat-primary:active { background: linear-gradient(135deg, $brown-press 0%, $brown-dark 92%); }

// Outlined primary → mais contraste sutil
.mat-mdc-outlined-button.mat-primary {
  border-color: rgba($brown-dark,.55);
  color: $brown-dark;
  background: rgba($brown-dark,.03);
  transition: background .18s ease, border-color .2s ease;
}
.mat-mdc-button.mat-primary { color: $brown-dark; }

.mat-mdc-outlined-button.mat-primary:hover { background: rgba($brown-dark,.08); }
.mat-mdc-outlined-button.mat-primary:active { background: rgba($brown-dark,.14); }

// Ghost style utility
.btn-ghost { background: transparent; color: $brown-dark; border-radius:14px; padding:8px 18px; }
.btn-ghost:hover { background: rgba($brown-dark,.08); }
.btn-ghost:active { background: rgba($brown-dark,.14); }

// Warn / danger visual refinado
.mat-mdc-raised-button.mat-warn, .mat-mdc-unelevated-button.mat-warn {
  background: linear-gradient(135deg, $rose-strong 0%, $brown 95%);
  color: $offwhite;
}
.mat-mdc-raised-button.mat-warn:hover, .mat-mdc-unelevated-button.mat-warn:hover { background: linear-gradient(135deg, $brown 0%, $brown-dark 95%); }
.mat-mdc-outlined-button.mat-warn { color: $rose-strong; border-color: rgba($rose-strong,.6); }
.mat-mdc-button.mat-warn { color: $rose-strong; }

// Focus ring acessível
button:focus-visible, .mdc-button:focus-visible { outline: 2px solid $rose; outline-offset: 2px; }

// Secondary helper class for stroked emphasis
.btn-secondary { @extend .mat-mdc-outlined-button; }
